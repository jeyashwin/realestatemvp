{% include "layout/header.html" %}

{% load static %}


<style>
	.pxp-header.fixed-top.pxp-animate { background-color:rgba(4, 113, 166, 0.9) !important; }
	.pxp-logo, .pxp-nav > li > a { color:#fff !important; }
	.pxp-nav > li > .active, .pxp-is-sticky .pxp-nav > li > .active { color: orange; }

	.fa.fa-thumbs-o-down:hover {
		color:red;
	}
    .thumbs-o-down {
        color:red;
    }
	.fa.fa-thumbs-o-up:hover {
		color:green;
	}
    .thumbs-o-up {
        color:green;
    }
	.pxp-results-card-1.rounded-lg {
		{% comment %} box-shadow:2px 2px 3px silver; {% endcomment %}
	}
	#filter_checks > p > input { width:13px; height:13px; }
	#filter_checks > p { font-size:15px; }
</style>


        <div class="pxp-content pxp-full-height">
            
            <div class="roww" style="width:100%;">
			<div class="col-md-12" style="background-color:#fff; border-radius:7px;">
				<div class="pxp-map-side pxp-map-right pxp-half" style="display:none;">
					<div id="results-map"></div>
					<a href="javascript:void(0);" class="pxp-list-toggle"><span class="fa fa-list"></span></a>
				</div>
				
				<div class="pxp-content-side pxp-content-leftt pxp-half">
					<div class="pxp-content-side-wrapper">
						<div class="d-flex">
							<div class="pxp-content-side-search-form">
								<div class="row pxp-content-side-search-form-row">
									<div class="col-2 col-sm-2 col-md-2 col-lg-2 pxp-content-side-search-form-col">
										<h2 class="pxp-content-side-h2">Services for Rent</h2>
									</div>
									<div class="col-9 col-sm-9 col-md-9 col-lg-9 pxp-content-side-search-form-col">
										<input type="text" class="form-control pxp-is-address" placeholder="Search by entering name" id="pxp-p-search-address">
										<span class="fa fa-search"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="row pb-4">
							<!--div class="col-sm-6">
								<h2 class="pxp-content-side-h2">{{object_list.count}} Results</h2>
							</div-->
							<div class="col-sm-6">
								<div class="pxp-sort-form form-inline float-right">
									<div class="form-group">
										{{filterSortForm.sort}}
										{{filterSortForm.sort.errors}}
									</div>
								</div>
							</div>
						</div>
						
						<div class="row">
						
							<div class="col-xs-12 col-sm-6 col-md-3 col-xxxl-3">
								<a href="/singleservice" class="pxp-results-card-1 rounded-lg" data-prop="3" style="background-color:rgba(4, 113, 166, 0.3); text-decoration:none;">
									<h5 style="color:black; padding:10px;"> Sofa</h5>
									<div id="card-carousel-3" class="carousel slide" data-ride="carousel" data-interval="false">
										<div class="carousel-inner">
											<div class="carousel-item active" style="background-image: url({% static '/images/services/sofa1.jpg' %})"></div>
											<div class="carousel-item" style="background-image: url({% static '/images/services/sofa2.jpg' %});"></div>
										</div>
										<span class="carousel-control-prev" data-href="#card-carousel-3" data-slide="prev">
											<span class="fa fa-angle-left" aria-hidden="true"></span>
										</span>
										<span class="carousel-control-next" data-href="#card-carousel-3" data-slide="next">
											<span class="fa fa-angle-right" aria-hidden="true"></span>
										</span>
									</div>
									<div class="pxp-results-card-1-gradient"></div>
									<div class="pxp-results-card-1-details">
										<div class="pxp-results-card-1-details-price" style="border-radius:50px; background-color:rgba(0, 0, 0, 0.5); padding:10px; width:60%; color:#fff;">$ 123 Weekly</div>
									</div>
								</a>
							</div>
						
							<div class="col-xs-12 col-sm-6 col-md-3 col-xxxl-3">
								<a href="/singleservice" class="pxp-results-card-1 rounded-lg" data-prop="3" style="background-color:rgba(4, 113, 166, 0.3); text-decoration:none;">
									<h5 style="color:black; padding:10px;"> Mattress</h5>
									<div id="card-carousel-3" class="carousel slide" data-ride="carousel" data-interval="false">
										<div class="carousel-inner">
											<div class="carousel-item active" style="background-image: url({% static '/images/services/matress1.jpg' %})"></div>
											<div class="carousel-item" style="background-image: url({% static '/images/services/matress2.jpg' %});"></div>
										</div>
										<span class="carousel-control-prev" data-href="#card-carousel-3" data-slide="prev">
											<span class="fa fa-angle-left" aria-hidden="true"></span>
										</span>
										<span class="carousel-control-next" data-href="#card-carousel-3" data-slide="next">
											<span class="fa fa-angle-right" aria-hidden="true"></span>
										</span>
									</div>
									<div class="pxp-results-card-1-gradient"></div>
									<div class="pxp-results-card-1-details">
										<div class="pxp-results-card-1-details-price" style="border-radius:50px; background-color:rgba(0, 0, 0, 0.5); padding:10px; width:60%; color:#fff;">$ 123 Monthly</div>
									</div>
								</a>
							</div>
							
							<div class="col-xs-12 col-sm-6 col-md-3 col-xxxl-3">
								<a href="/singleservice" class="pxp-results-card-1 rounded-lg" data-prop="2" style="background-color:rgba(4, 113, 166, 0.3); text-decoration:none;">
									<h5 style="color:black; padding:10px;"> TV</h5>
									<div id="card-carousel-2" class="carousel slide" data-ride="carousel" data-interval="false">
										<div class="carousel-inner">
											<div class="carousel-item active" style="background-image: url({% static '/images/services/tv3.jpg' %})"></div>
											<div class="carousel-item" style="background-image: url({% static '/images/services/tv2.jpg' %});"></div>
										</div>
										<span class="carousel-control-prev" data-href="#card-carousel-2" data-slide="prev">
											<span class="fa fa-angle-left" aria-hidden="true"></span>
										</span>
										<span class="carousel-control-next" data-href="#card-carousel-2" data-slide="next">
											<span class="fa fa-angle-right" aria-hidden="true"></span>
										</span>
									</div>
									<div class="pxp-results-card-1-gradient"></div>
									<div class="pxp-results-card-1-details">
										<div class="pxp-results-card-1-details-price" style="border-radius:50px; background-color:rgba(0, 0, 0, 0.5); padding:10px; width:60%; color:#fff;">$ 321 Monthly</div>
									</div>
								</a>
							</div>
							
							
							{% load humanize %}
							{% for object in object_list %}
								<div class="col-xs-12 col-sm-6 col-md-3 col-xxxl-3">
									<div style="margin-top: 10px; padding:0px; box-shadow:3px 3px 5px grey; border-radius:10px; background-image:url({% static '/images/bg-pattern1.png' %});">
										<a href="{% url 'property:propertyDetail' object.urlSlug %}" class="pxp-results-card-1 rounded-lg"  data-prop="1" style="height:270px;">
											<div id="card-carousel-{{object.pk}}" class="carousel slide" data-ride="carousel" data-interval="false">
												<div class="carousel-inner">
													{% for image in object.propertyimage_set.all %}
														{% if forloop.first %}
														<div class="carousel-item active" style="background-image: url({{image.imagePath.url}})"></div>
														{% else %}
														<div class="carousel-item" style="background-image: url({{image.imagePath.url}});"></div>
														{% endif %}
													{% endfor %}
												</div>
												<span class="carousel-control-prev" data-href="#card-carousel-{{object.pk}}" data-slide="prev">
													<span class="fa fa-angle-left" aria-hidden="true"></span>
												</span>
												<span class="carousel-control-next" data-href="#card-carousel-{{object.pk}}" data-slide="next">
													<span class="fa fa-angle-right" aria-hidden="true"></span>
												</span>
											</div>
											<div class="pxp-results-card-1-gradient"></div>
											<div class="pxp-results-card-1-details">
												<div class="pxp-results-card-1-details-title">{{object.title|title|truncatechars:25}}</div>
												<div class="pxp-results-card-1-details-price">${{object.rentPerPerson|intcomma}}</div>
											</div>
											<div class="pxp-results-card-1-features">
												<span>{{object.rooms}} Room <span>|</span> {{object.bathrooms}} BA <span>|</span> {{object.sqft|intcomma}} SF</span>
											</div>
											
											<div class="pxp-results-card-1-save">
												<span id="like{{object.pk}}" onclick="return likeclick('prop1', this)" likeurl="{%url 'property:propertyReaction' %}" key="{{csrf_token}}" property="{% url 'property:propertyReaction' object.urlSlug %}" 
													class="fa fa-thumbs-o-up 
														{% for liked in object.likes.all  %}
															{% if liked.user.user == user %}
																thumbs-o-up
															{% endif %}
														{% endfor %}
													">
												</span>
												<span id="dislike{{object.pk}}" onclick="return dislikeclick('prop1', this)" dislikeurl="{%url 'property:propertyReaction' %}" key="{{csrf_token}}" property="{% url 'property:propertyReaction' object.urlSlug %}" style="background-color:white; border-radius:50px; padding:7px; margin-top:10px;" 
													class="fa fa-thumbs-o-down 
														{% for disliked in object.dislikes.all  %}
															{% if disliked.user.user == user %}
																thumbs-o-down
															{% endif %}
														{% endfor %}
													">
												</span>
											</div>
										</a>
										<div class="col-md-12" style="padding-bottom:10px; font-size:12px; margin-top:-20px; color:grey;">
											<div class="row" style="padding:4px 0px; border-bottom:0px solid #444444;">
												<div class="col-md-6"><b>Distance </b></div>
												<div class="col-md-6">10 Miles</div>
											</div>
											<div class="row" style="padding:4px 0px; border-bottom:0px solid #444444;">
												<div class="col-md-6"><b>Amenities </b></div>
												<div class="col-md-6">
													{% for amenity in object.amenities.all %}
														{% if forloop.first %}
															{{amenity}},
														{% endif %} 
													{% endfor %}
												</div>
												<div class="col-md-12">
													{% for amenity in object.amenities.all %}
														{% if not forloop.first and forloop.counter <= 4 %}
															{{amenity}}
															{% if forloop.counter != 4 and not forloop.last %}
																,
															{% endif %}
														{% endif %} 
													{% endfor %}
												</div>
											</div>
											<div class="row" style="padding:4px 0px;">
												<div class="col-md-6"><b>Occupants </b></div>
												<div class="col-md-6">{{object.occupants}}</div>
											</div>
										</div>
										
										<div class="col-md-12" style="border-top:1px solid silver; padding:5px 10px; font-size:12px; color:black;">
											<div class="row" style="padding:4px 0px; border-bottom:0px solid #444444;">
												<div class="col-md-12"><b>Tag a friend @ </b></div>
											</div>
										</div>
									</div>
								</div>
							{% endfor %}
							 
						</div>

						<ul class="pagination pxp-paginantion mt-2 mt-md-4">
							{% for page in total_pages %}
								<li class="page-item {% if page == page_obj.number %}active{% endif %}"><a class="page-link" href="?page={{ page }}">{{ page }}</a></li>
							{% endfor %}
							{% if page_obj.has_next %}
								<li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next <span class="fa fa-angle-right"></span></a></li>
							{% endif %}
						</ul>

					</div>
					
				</div>
				
			</div> <!--col-md-9-->
			</div> <!--row-->
        </div>

	<script>
		function toggle_filters()
		{
			var filtersdivstatus = document.getElementById('filtersdiv').style.display;
			
			if(filtersdivstatus == 'none') {
				//document.getElementById('filtersdiv').style.display = 'block';
				$("#filtersdiv").show(700);
				
			} else {
				//document.getElementById('filtersdiv').style.display = 'none';
				$("#filtersdiv").hide(700);
			}
		}
	</script>
	
	<script>
		function likeclick(id, dis)
		{
			/*var like = document.getElementById(id);
			like.classList.toggle("thumbs-o-up");*/
			
			var url = dis.getAttribute('likeurl');
			$.ajax({
			  url: url,
			  type: 'POST',
			  data: {like:1, dislike:0},
			  success: function(res){
				console.log(res);
			  },
			  error: function()
			  {
				console.log('Error!');
			  }
			});
			
		}
		
		function dislikeclick(id, dis)
		{
		
			/*var dislike = document.getElementById(id);
			dislike.classList.toggle("thumbs-o-down")*/
			
			var url = dis.getAttribute('dislikeurl');
			$.ajax({
			  url: url,
			  type: 'POST',
			  data: {like:0, dislike:1},
			  success: function(res){
				console.log(res);
			  },
			  error: function(){
				console.log('Error!');
			  }
			});
			
		}
	</script>


{% include "layout/footer.html" %}